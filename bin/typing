#!/bin/zsh

if [ $# -ne 2 ]; then
    echo "Few arguments!" 1>&2
    exit 1
fi

# expr "$2" + 1 > /dev/null 2>&1
# if [ $? -ge 2 ]; then
#     echo "Second argument should be natural number" 1>&2
#     exit 1
# fi

message_array=${(Q)${(z)1}}
message_length=${#1}
wait_time=$2

message=""

for i in `seq 1 1 $message_length`
do
    message+=$message_array[i]
    echo -en $message

    if [ $i -ne $message_length ]; then
        echo -en '\r'
        sleep $wait_time
    fi
done

echo
